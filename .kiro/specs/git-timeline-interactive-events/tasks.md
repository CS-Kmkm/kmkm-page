# Implementation Plan

- [x] 1. データ構造とユーティリティ関数の実装


  - EventEntry型とYearEventGroup型をtypes/index.tsに追加
  - イベントデータの検証ロジック（validateEventData）を実装
  - 年別グループ化ロジック（groupEventsByYear）を実装
  - イベントポイント位置計算ロジック（calculateEventPointPosition）を実装
  - _Requirements: 6.1, 6.2, 6.3, 6.4, 6.5_



- [ ] 2. イベントデータファイルの作成
  - src/data/events.jsonファイルを作成
  - サンプルイベントデータを追加（研究発表、インターンシップ、論文採択など）
  - data/index.tsにgetEventEntries関数を追加


  - イベントデータの妥当性を検証
  - _Requirements: 6.1, 6.2, 6.3, 6.4_

- [ ] 3. EventPointコンポーネントの実装
  - src/components/ui/EventPoint.tsxを作成
  - SVGを使用したイベントポイントの描画を実装


  - 単一イベントと複数イベントの視覚的区別を実装
  - ホバー効果とクリックハンドリングを実装
  - アクセシビリティ属性（role、aria-label、tabIndex）を設定
  - _Requirements: 1.1, 1.2, 1.3, 1.4, 9.1, 9.2, 9.3, 9.4_

- [x] 4. EventModalコンポーネントの実装


  - src/components/ui/EventModal.tsxを作成
  - モーダルの基本構造（オーバーレイ、コンテンツエリア、クローズボタン）を実装
  - イベント詳細情報の表示（タイトル、日付、説明文、カテゴリ）を実装
  - Escapeキーとオーバーレイクリックでの閉じる機能を実装
  - フォーカストラップとキーボードナビゲーションを実装
  - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5, 4.1, 4.2, 4.3, 4.4, 4.5, 5.1, 5.2, 5.3, 5.4, 5.5_



- [ ] 5. EventListModalコンポーネントの実装
  - src/components/ui/EventListModal.tsxを作成
  - 年別イベントリストの表示を実装
  - イベントの時系列順ソート機能を実装
  - 個別イベント選択とEventModalへの遷移を実装
  - リスト内の各エントリーの視覚的区別を実装

  - _Requirements: 3.1, 3.2, 3.3, 3.4, 3.5, 10.1, 10.2, 10.3, 10.4, 10.5_

- [ ] 6. GitBranchTimelineコンポーネントの拡張
  - GitBranchTimeline/index.tsxにイベント機能を統合
  - eventsプロパティとenableEventPointsプロパティを追加
  - 年別イベントグループの計算とメモ化を実装

  - イベントポイントの描画をSVG内に追加
  - イベントクリック時のモーダル表示制御を実装
  - 既存機能との互換性を維持
  - _Requirements: 1.5, 3.1, 3.2, 3.3, 3.4, 3.5_

- [ ] 7. アニメーション効果の実装
  - Framer Motionを使用したモーダルアニメーションを実装
  - イベントポイントの段階的表示アニメーションを実装


  - prefers-reduced-motionのサポートを実装
  - アニメーション中のユーザー操作の適切な処理を実装
  - _Requirements: 8.1, 8.2, 8.3, 8.4, 8.5_


- [ ] 8. レスポンシブデザインの実装
  - モバイル表示でのモーダル最適化を実装
  - タッチ操作に適したボタンサイズを設定
  - 小さい画面でのテキスト可読性を確保
  - モバイルでのスクロール動作を適切に処理

  - _Requirements: 7.1, 7.2, 7.3, 7.4, 7.5_

- [ ] 9. career/page.tsxの更新
  - イベントデータの読み込みを追加
  - 拡張されたGitBranchTimelineコンポーネントにイベントデータを渡す
  - エラーハンドリングとフォールバック表示を実装


  - ページメタデータを更新
  - _Requirements: 1.1, 6.5_

- [ ] 10. パフォーマンス最適化
  - イベントデータ処理のメモ化を実装
  - モーダルの遅延レンダリングを実装
  - イベントハンドラーのuseCallbackによる最適化を実装
  - 不要な再レンダリングの防止を実装
  - _Requirements: 8.5_

- [ ] 11. エラーハンドリングの実装
  - イベントデータ検証エラーの表示コンポーネントを作成
  - 不正なイベントデータに対するフォールバック処理を実装
  - ネットワークエラーやデータ読み込み失敗時の処理を実装
  - ユーザーフレンドリーなエラーメッセージを実装
  - _Requirements: 6.5_

- [ ] 12. アクセシビリティの強化
  - すべてのインタラクティブ要素にARIA属性を設定
  - スクリーンリーダー向けの説明文生成を実装
  - キーボードナビゲーションの完全サポートを実装
  - フォーカス管理とフォーカストラップを実装
  - _Requirements: 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 13. 単体テストの作成
  - groupEventsByYear関数のテスト
  - calculateEventPointPosition関数のテスト
  - validateEventData関数のテスト
  - イベントモーダルの表示/非表示テスト
  - _Requirements: 6.4, 6.5_

- [ ] 14. コンポーネントテストの作成
  - EventPointコンポーネントのテスト
  - EventModalコンポーネントのテスト
  - EventListModalコンポーネントのテスト
  - 拡張されたGitBranchTimelineコンポーネントのテスト
  - _Requirements: 1.1, 2.1, 3.1_

- [ ] 15. E2Eテストの作成
  - イベントポイントクリック動作のテスト
  - モーダル表示とキーボード操作のテスト
  - レスポンシブ表示でのイベント機能テスト
  - アクセシビリティテスト（jest-axe）
  - _Requirements: 5.1, 5.2, 7.1_

- [ ] 16. ドキュメントの作成
  - 新しいコンポーネントのJSDocコメントを追加
  - README.mdにイベント機能の説明を追加
  - イベントデータ構造の使用方法をドキュメント化